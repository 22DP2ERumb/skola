<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/UserProfile.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <title>MācībuVide</title>
</head>
<body>
    <div class="container">
        <div class="main">
            <form class="topbar">
                <a href="/logout" a>Logout</a>
                <a href="/support">Support</a>
                <a href="/lessons">Lessons</a>
                <span th:if="${role != 'MacibuDala'}">
                    <a href="/grades">Grades</a>
                </span>
                <a href="/profile" class="active">Profile</a>

                <span th:if="${role == 'MacibuDala'}">
                    <a href="/lessonManager">Lesson Manager</a>
                </span>

                <span th:if="${role == 'MacibuDala'}">
                    <a href="/deleteUser">Delete User</a>
                </span>

            </form>
            <div class="row">
                <div class="col-md-4 mt-1">
                    <div class="card text-center sidebar">
                        <div class="card-body">
                            <img src="/images/user2.png" class="rounded-circle" width="150">
                            <div class="mt-3">
                                <h3><span class="username"><p th:text="${username}"></p></span></h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8 mt-1">
                    <div class="card mb-3 content">
                        <h1 class="m-3 pt-3">About</h1>
                        <div class="details">
                            <div class="row">
                                <div class="col-md-3">
                                    <h5>Full Name:</h5>
                                    <br>
                                </div>
                                <div id = "CurrentNameWindow" class="col-md-9 text-secondary" >
                                    <a th:text="${fullName}"></a>
                                    <button id = "ChangeName"><i class='bx bxs-pencil'></i></button><br> 
                                    <p style="color: red;" th:if="${error}" th:text="${error}"></p>
                                    <p style="color: green;" th:if="${Success}" th:text="${Success}"></p>
                                </div>


                                <div id = "NameWindow" style="display: none;">
                                    <form action="/ChangeName" method="post">
                                        <input placeholder="New full name" type="text" name = "newName">
                                        <button id = "ChangeName" type="submit" class='bx bxs-check-square'></button>
                                    </form>
                                </div>


                            </div>

                            
                            <hr>
                            <div class="row">
                                <div class="col-md-3">
                                    <h5>Phone:</h5>
                                    <br>
                                </div>


                                <div id = "CurrentNumberWindow" class="col-md-9 text-secondary">
                                    <a th:text="${numurs}"></a>
                                    <button id = "ChangeNumber"><i class='bx bxs-pencil'></i></button>
                                    <p style="color: red;" th:if="${errorNumber}" th:text="${errorNumber}"></p>
                                    <p style="color: green;" th:if="${SuccessNumber}" th:text="${SuccessNumber}"></p>                       
                                </div>

                                <div id = "NumberWindow" style="display: none;">
                                    <form action="/ChangeNumber" method="post">
                                        <input placeholder="New number" type="number" name = "newNumber">
                                        <button id = "ChangeName" type="submit" class='bx bxs-check-square'></button>
                                    </form>
                                </div>
                                

                            <hr>
                            <!-- Password spot -->
                            <div class="row">
                                <div class="col-md-3">
                                    <h5>Password:</h5>
                                    <br>
                                </div>
                                <div id = "CurrentPasswordWindow" class="col-md-9 text-secondary" >
                                    <a> *********</a>
                                    <button id = "ChangePassword"><i class='bx bxs-pencil'></i></button><br> 
                                    <p style="color: red;" th:if="${paserror}" th:text="${paserror}"></p>
                                    <p style="color: green;" th:if="${passuccess}" th:text="${passuccess}"></p>
                                </div>


                                <div id = "PasswordWindow" style="display: none;">
                                    <form action="/ChangePassword" method="post">
                                        <input placeholder="New password" type="password" name = "newPassword">
                                        <input placeholder="New password repeat" type="password" name = "newPasswordRepeat">
                                        <button id = "ChangePassword" type="submit" class='bx bxs-check-square'></button>
                                    </form>
                                </div>


                            </div>
                            <hr>
                            
                            <div class="row">
                                <div class="col-md-3">
                                    <h5>Email</h5>
                                </div>
                                <div class="col-md-9 text-secondary">
                                    <p class="email"><p th:text="${Email}"></p></p>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.getElementById("ChangeName").addEventListener("click", function() 
        {
            document.getElementById("NameWindow").style.display = "block";
            document.getElementById("CurrentNameWindow").style.display = "none";
        });

        document.getElementById("ChangeNumber").addEventListener("click", function() 
        {
            document.getElementById("NumberWindow").style.display = "block";
            document.getElementById("CurrentNumberWindow").style.display = "none";
        });

        document.getElementById("ChangePassword").addEventListener("click", function() 
        {
            document.getElementById("PasswordWindow").style.display = "block";
            document.getElementById("CurrentPasswordWindow").style.display = "none";
        });
</script>
</body>
<body> 
    <style>
        body 
        {
            background-image: url('/images/background.png');
            background-size: cover;
            background-repeat: no-repeat;
        }
    </style>
</body>
</html>
